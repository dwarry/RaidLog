function getColumnsForScaffolding(n){var t,i;if(typeof n.length!="number"||n.length===0)return[];t=[];for(i in n[0])t.push({headerText:i,rowText:i});return t}var templateEngine=new ko.nativeTemplateEngine,ListViewModel;ko.bindingHandlers.pagedGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i){for(var r=t(),u=i(),o=u.pagedGridTemplate||"ko_simpleGrid_grid",s=u.pagedGridPagerTemplate||"ko_simpleGrid_pageLinks",f,e;n.firstChild;)ko.removeNode(n.firstChild);f=n.appendChild(document.createElement("DIV")),ko.renderTemplate(o,r,{templateEngine:templateEngine},f,"replaceNode"),e=n.appendChild(document.createElement("DIV")),ko.renderTemplate(s,r,{templateEngine:templateEngine},e,"replaceNode")}},ListViewModel=function(){function n(n){var t=this;this.allData=ko.observableArray(),this.currentPageIndex=ko.observable(0),this.selected=ko.observable(null),this.searchField=ko.observable(""),this.searchPredicate=null,this.allData=n.data,this.pageSize=n.pageSize||10,this.filteredData=ko.computed(function(){var n=t.searchField().trim();return!t.searchPredicate||n.length===0?ko.utils.unwrapObservable(t.allData):ko.utils.arrayFilter(ko.utils.unwrapObservable(t.allData),function(i){return t.searchPredicate(n,i)})},this),this.itemsOnCurrentPage=ko.computed(function(){var n=t.pageSize*t.currentPageIndex();return t.filteredData().slice(n,n+t.pageSize)},this),this.maxPageIndex=ko.computed(function(){return Math.ceil(t.filteredData().length/t.pageSize)-1},this),this.columns=n.columns||getColumnsForScaffolding(ko.utils.unwrapObservable(this.allData)),this.setSelected=function(n){return t.selected()===n?t.selected(null):t.selected(n),!0}}return n}(),exports.ListViewModel=ListViewModel