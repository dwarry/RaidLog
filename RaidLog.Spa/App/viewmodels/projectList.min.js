define(["require","exports","services/dataService","knockout","viewmodels/pagedGrid"],function(n,t,i,r,u){var e=i,f=r,o=u;return function(){function n(){this.title="Projects",this.projects=f.observableArray();var n={data:this.projects};this.listViewModel=new o.ListViewModel(n),this.listViewModel.searchPredicate=function(n,t){return t.code.indexOf(n)!==-1||t.name.indexOf(n)!==-1},this.canEditProject=this.canArchiveProject=f.computed(function(){return this.listViewModel.selected()!==null},this)}return n.prototype.search=function(n){this.listViewModel.searchField(n)},n.prototype.activate=function(){this.refresh()},n.prototype.refresh=function(){var n=this;e.getProjects().done(function(t){return n.projects(t)})},n.prototype.editProject=function(){},n.prototype.newProject=function(){},n.prototype.archiveProject=function(){},n}()})