var logger=require("./services/logger"),pg=require("./viewmodels/pagedGrid"),MasterDetailViewModel=function(){function n(){this.koMappingOptions={},this.listVM=new pg.ListViewModel({data:ko.observableArray(),pageSize:20})}return n.prototype.doRefresh=function(){return logger.logWarning("dummy doRefresh invoked",this,"viewmodels/MasterDetailViewModel",!1),$.Deferred().resolve(null).promise()},n.prototype.refresh=function(){return this.doRefresh().done(function(n){ko.mapping.fromJS(n,this.koMappingOptions,this.listVM.allData)})},n.prototype.doNewItem=function(){return null},n.prototype.newItem=function(){this.listVM.selected(this.doNewItem())},n.prototype.doItemWasAdded=function(){this.listVM.allData.indexOf(this.listVM.selected())!==-1&&this.listVM.allData.unshift(this.listVM.selected())},n.prototype.doItemWasRemoved=function(n){this.listVM.allData.remove(n)},n}(),MasterDetailViewModel2;exports.MasterDetailViewModel=MasterDetailViewModel,MasterDetailViewModel2=function(){function n(n){this.koMappingOptions={},this.koMappingOptions.create=n,this.listVM=new pg.ListViewModel({data:ko.observableArray(),pageSize:20})}return n.prototype.doRefresh=function(){return logger.logWarning("dummy doRefresh invoked",this,"viewmodels/MasterDetailViewModel",!1),$.Deferred().resolve(null).promise()},n.prototype.refresh=function(){this.doRefresh().done(function(n){ko.mapping.fromJS(n,this.koMappingOptions,this.listVM.allData)})},n.prototype.doNewItem=function(){return null},n.prototype.newItem=function(){var n=ko.mapping.fromJS(this.doNewItem(),this.koMappingOptions,null);this.listVM.selected(n)},n.prototype.doItemWasAdded=function(){var n=ko.mapping.fromJS(this.doNewItem(),this.koMappingOptions,null);this.listVM.allData.unshift(n)},n.prototype.doItemWasRemoved=function(n){this.listVM.allData.remove(n)},n}(),exports.MasterDetailViewModel2=MasterDetailViewModel2