define(["require","exports","services/logger","viewmodels/pagedGrid"],function(n,t,i,r){var u=i,f=r,o=function(){function n(){this.koMappingOptions={},this.listVM=new f.ListViewModel({data:ko.observableArray(),pageSize:20})}return n.prototype.doRefresh=function(){return u.logWarning("dummy doRefresh invoked",this,"viewmodels/MasterDetailViewModel",!1),$.Deferred().resolve(null).promise()},n.prototype.refresh=function(){return this.doRefresh().done(function(n){ko.mapping.fromJS(n,this.koMappingOptions,this.listVM.allData)})},n.prototype.doNewItem=function(){return null},n.prototype.newItem=function(){this.listVM.selected(this.doNewItem())},n.prototype.doItemWasAdded=function(){this.listVM.allData.indexOf(this.listVM.selected())!==-1&&this.listVM.allData.unshift(this.listVM.selected())},n.prototype.doItemWasRemoved=function(n){this.listVM.allData.remove(n)},n}(),e;t.MasterDetailViewModel=o,e=function(){function n(n){this.koMappingOptions={},this.koMappingOptions.create=n,this.listVM=new f.ListViewModel({data:ko.observableArray(),pageSize:20})}return n.prototype.doRefresh=function(){return u.logWarning("dummy doRefresh invoked",this,"viewmodels/MasterDetailViewModel",!1),$.Deferred().resolve(null).promise()},n.prototype.refresh=function(){this.doRefresh().done(function(n){ko.mapping.fromJS(n,this.koMappingOptions,this.listVM.allData)})},n.prototype.doNewItem=function(){return null},n.prototype.newItem=function(){var n=ko.mapping.fromJS(this.doNewItem(),this.koMappingOptions,null);this.listVM.selected(n)},n.prototype.doItemWasAdded=function(){var n=ko.mapping.fromJS(this.doNewItem(),this.koMappingOptions,null);this.listVM.allData.unshift(n)},n.prototype.doItemWasRemoved=function(n){this.listVM.allData.remove(n)},n}(),t.MasterDetailViewModel2=e})