var ds=require("./services/dataService"),pg=require("./pagedGrid"),AssumptionDetails=require("./assumptionDetails"),assumptionStatuses,AssumptionList;ds.getReferenceData().done(function(n){assumptionStatuses=n.assumptionStatuses}),AssumptionList=function(){function n(){var n=this;this.projectCode=ko.observable(""),this.projectName=ko.observable(""),this.listViewModel=new pg.ListViewModel({data:ko.observableArray([])}),this._mappingOptions={create:function(t){return new AssumptionDetails(n.projectId,t.data,function(t){n.listViewModel.allData.push(t)})},key:function(n){return n.id}},this.assumptionStatuses=assumptionStatuses}return n.prototype.activate=function(n){var t=this,i;this.projectId=n,i=ds.getProject(this.projectId).done(function(n){t.projectCode(n.code),t.projectName(n.name)}),this.refresh()},n.prototype.refresh=function(){var n=this;ds.getProjectAssumptions(this.projectId).done(function(t){ko.mapping.fromJS(t,n._mappingOptions,n.listViewModel.allData)})},n.prototype.newAssumption=function(){this.listViewModel.selected(ko.mapping.fromJS(ds.makeNewAssumption(),this._mappingOptions))},n}(),module.exports=AssumptionList