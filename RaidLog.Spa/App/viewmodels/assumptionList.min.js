define(["require","exports","services/dataService","./pagedGrid","./assumptionDetails"],function(n,t,i,r,u){var f=i,o=r,s=u,e;return f.getReferenceData().done(function(n){e=n.assumptionStatuses}),function(){function n(){var n=this;this.projectCode=ko.observable(""),this.projectName=ko.observable(""),this.listViewModel=new o.ListViewModel({data:ko.observableArray([])}),this._mappingOptions={create:function(t){return new s(n.projectId,t.data,function(t){n.listViewModel.allData.push(t)})},key:function(n){return n.id}},this.assumptionStatuses=e}return n.prototype.activate=function(n){var t=this,i;this.projectId=n,i=f.getProject(this.projectId).done(function(n){t.projectCode(n.code),t.projectName(n.name)}),this.refresh()},n.prototype.refresh=function(){var n=this;f.getProjectAssumptions(this.projectId).done(function(t){ko.mapping.fromJS(t,n._mappingOptions,n.listViewModel.allData)})},n.prototype.newAssumption=function(){this.listViewModel.selected(ko.mapping.fromJS(f.makeNewAssumption(),this._mappingOptions))},n}()})