define(["require","exports","plugins/http","services/logger"],function(n,t,i,r){function s(){return o}function h(){return f.get("/api/projects/").done(function(n){u.logSuccess("Retrieved Projects",n,"services/dataService",!0)}).fail(function(){u.logError("Could not retrieve Projects",arguments,"services/dataService",!0)})}function c(n){var t={url:"/api/projects/",data:n,dataType:"json"};return n.id?(t.url=t.url+n.id,t.type="PUT"):t.type="POST",$.ajax(t).done(function(){u.logSuccess("Saved Project",null,"services/dataService",!0)}).fail(function(t,i){u.logError("Error saving the Project",{},"services/dataService",!0),u.logError(i+" "+t.responseText,n,"services/dataService",!1)})}var f=i,u=r,e,o=f.get("/api/ReferenceData/").done(function(n){e=n,u.logSuccess("Retrieved reference data",{},"services/dataService",!0)}).fail(function(n,t){u.logError("Could not retrieve reference data ("+t+")",arguments,"services/dataService",!0)});t.getReferenceData=s,t.getProjects=h,t.saveProject=c})