define(["require","exports","knockout"],function(n,t,i){function f(n,t){document.getElementById(n)===null&&document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")}function o(n){var t,i;if(typeof n.length!="number"||n.length===0)return[];t=[];for(i in n[0])t.push({headerText:i,rowText:i});return t}var r=i,u,e;f("ko_simpleGrid_grid",'                    <table class="ko-grid" cellspacing="0">                        <thead>                            <tr data-bind="foreach: columns">                               <th data-bind="text: headerText"><\/th>                            <\/tr>                        <\/thead>                        <tbody data-bind="foreach: itemsOnCurrentPage">                           <tr data-bind="foreach: $parent.columns">                               <td data-bind="text: typeof rowText == \'function\' ? rowText($parent) : $parent[rowText] "><\/td>                            <\/tr>                        <\/tbody>                    <\/table>'),f("ko_simpleGrid_pageLinks",'                    <div class="ko-grid-pageLinks">                        <span>Page:<\/span>                        <!-- ko foreach: ko.utils.range(0, maxPageIndex) -->                               <a href="#" data-bind="text: $data + 1, click: function() { $root.currentPageIndex($data) }, css: { selected: $data == $root.currentPageIndex() }">                            <\/a>                        <!-- /ko -->                    <\/div>'),u=new r.templateEngine,r.bindingHandlers.pagedGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i){for(var f=t(),e=i(),o;n.firstChild;)r.removeNode(n.firstChild);var s=e.simpleGridTemplate||"ko_simpleGrid_grid",h=e.simpleGridPagerTemplate||"ko_simpleGrid_pageLinks",c=n.appendChild(document.createElement("DIV"));r.renderTemplate(s,f,{templateEngine:u},c,"replaceNode"),o=n.appendChild(document.createElement("DIV")),r.renderTemplate(h,f,{templateEngine:u},o,"replaceNode")}},e=function(){function n(n){this.allData=r.observableArray(),this.currentPageIndex=r.observable(0),this.selected=r.observable(null),this.searchField=r.observable(),this.searchPredicate=null,this.filteredData=r.computed(function(){var n=this;return this.searchPredicate?r.utils.arrayFilter(r.utils.unwrapObservable(this.allData()),function(t){return n.searchPredicate(n.searchField,t)}):r.utils.unwrapObservable(this.allData())}),this.allData=n.data,this.pageSize=n.pageSize||10,this.itemsOnCurrentPage=r.computed(function(){var n=this.pageSize*this.currentPageIndex();return this.filteredData().slice(n,n+this.pageSize)},this),this.maxPageIndex=r.computed(function(){return Math.ceil(this.filteredData().length/this.pageSize)-1},this),this.columns=n.columns||o(r.utils.unwrapObservable(this.allData))}return n}(),t.listViewModel=e})